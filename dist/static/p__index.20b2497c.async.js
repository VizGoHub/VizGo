(self.webpackChunk=self.webpackChunk||[]).push([[866],{29840:function(U,j,f){"use strict";f.r(j),f.d(j,{default:function(){return Q}});var w=f(15009),p=f.n(w),A=f(99289),y=f.n(A),E=f(5574),g=f.n(E),o=f(67294),z=f(97857),S=f.n(z),I=f(11238);function C(v,r){return T.apply(this,arguments)}function T(){return T=y()(p()().mark(function v(r,s){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,I.ZP)("/api/chart/".concat(r),S()({method:"GET"},s||{})));case 1:case"end":return l.stop()}},v)})),T.apply(this,arguments)}function b(v){return L.apply(this,arguments)}function L(){return L=y()(p()().mark(function v(r){return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,I.ZP)("/api/charts",S()({method:"GET"},r||{})));case 1:case"end":return u.stop()}},v)})),L.apply(this,arguments)}var V=f(1809),x=f(64389),t=f(85893),O=function(r){var s=r.titleText,u=r.legendData,l=r.xAxisData,i=r.seriesData,e=(0,o.useRef)(null);return(0,o.useEffect)(function(){var c=e.current,d=x.S1(c),n={title:{},tooltip:{trigger:"axis"},legend:{data:u},xAxis:{type:"category",boundaryGap:!1,data:l,splitLine:{show:!0},axisLabel:{rotate:45,formatter:function(D){return D.length>16?D.slice(0,16)+"...":D}}},yAxis:{type:"value"},series:i};d.setOption(n);var h=new ResizeObserver(function(){d.resize()});return h.observe(c),function(){d.dispose(),h.disconnect()}},[s,u,l,i]),(0,t.jsx)("div",{ref:e,style:{width:"100%",height:"100%"}})},F=O,B=function(r){var s=r.chartID,u=(0,o.useRef)(null),l=(0,o.useState)(null),i=g()(l,2),e=i[0],c=i[1],d=function(){var n=y()(p()().mark(function h(m){var D;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(m);case 3:D=a.sent,c(D.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},h,null,[[0,7]])}));return function(m){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function h(){d(s).then(function(m){console.log("Chart Loaded, ChartID=",s)}),setTimeout(h,1e4)};return n(),function(){}},[s]),(0,t.jsx)(t.Fragment,{children:e?(0,t.jsx)(F,{titleText:e.name,legendData:e.legends,xAxisData:e.labels,seriesData:e.datasets}):(0,t.jsx)(t.Fragment,{children:"Loading..."})})},M=B,W=function(r){var s=r.titleText,u=r.seriesData,l=(0,o.useRef)(null);return(0,o.useEffect)(function(){var i=l.current,e=x.S1(i),c={title:{},series:{type:"treemap",data:u}};e.setOption(c);var d=new ResizeObserver(function(){e.resize()});return d.observe(i),function(){e.dispose(),d.disconnect()}},[s,u]),(0,t.jsx)("div",{ref:l,style:{width:"100%",height:"100%"}})},$=W,G=function(r){var s=r.chartID,u=(0,o.useRef)(null),l=(0,o.useState)(null),i=g()(l,2),e=i[0],c=i[1],d=function(){var n=y()(p()().mark(function h(m){var D;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(m);case 3:D=a.sent,c(D.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},h,null,[[0,7]])}));return function(m){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function h(){d(s).then(function(m){console.log("Chart Loaded, ChartID=",s)}),setTimeout(h,1e4)};return n(),function(){}},[s]),(0,t.jsx)(t.Fragment,{children:e?(0,t.jsx)($,{titleText:e.name,seriesData:e.datasets}):(0,t.jsx)(t.Fragment,{children:"Loading..."})})},P=G,Z=function(r){var s=r.titleText,u=r.yAxisData,l=r.seriesData,i=(0,o.useRef)(null);return(0,o.useEffect)(function(){var e=i.current,c=x.S1(e),d={title:{},xAxis:{max:"dataMax"},yAxis:u,legend:{show:!0},series:l};c.setOption(d);var n=new ResizeObserver(function(){c.resize()});return n.observe(e),function(){c.dispose(),n.disconnect()}},[s,u,l]),(0,t.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}})},H=Z,N=function(r){var s=r.chartID,u=(0,o.useRef)(null),l=(0,o.useState)(null),i=g()(l,2),e=i[0],c=i[1],d=function(){var n=y()(p()().mark(function h(m){var D;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(m);case 3:D=a.sent,c(D.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},h,null,[[0,7]])}));return function(m){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function h(){d(s).then(function(m){console.log("Chart Loaded, ChartID=",s)}),setTimeout(h,1e4)};return n(),function(){}},[s]),(0,t.jsx)(t.Fragment,{children:e?(0,t.jsx)(H,{titleText:e.name,yAxisData:e.yAxis,seriesData:e.datasets}):(0,t.jsx)(t.Fragment,{children:"Loading..."})})},k=N,J=function(r){var s=r.chartID,u=r.chartType;return u=="line"?(0,t.jsx)(M,{chartID:s}):u=="treemap"?(0,t.jsx)(P,{chartID:s}):u=="bar"?(0,t.jsx)(k,{chartID:s}):(0,t.jsx)(t.Fragment,{})},K=J;function Q(){var v=(0,o.useState)(null),r=g()(v,2),s=r[0],u=r[1],l=function(){var i=y()(p()().mark(function e(){var c;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b();case 3:c=n.sent,u(c.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error loading charts data:",n.t0);case 10:case"end":return n.stop()}},e,null,[[0,7]])}));return function(){return i.apply(this,arguments)}}();return(0,o.useEffect)(function(){l().then(function(i){console.log("Init Completed")})},[]),(0,t.jsx)("div",{children:s?s.map(function(i,e){return(0,t.jsxs)("div",{style:{float:"left"},children:[(0,t.jsxs)("h3",{children:[i.chartName,(0,t.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,t.jsx)("div",{style:{height:450,width:450,float:"left"},children:(0,t.jsx)(K,{chartID:i.chartID,chartType:i.chartType},e)})]})}):(0,t.jsx)("div",{children:"Loading..."})})}},24654:function(){}}]);
