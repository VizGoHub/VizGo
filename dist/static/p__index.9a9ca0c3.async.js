(self.webpackChunk=self.webpackChunk||[]).push([[866],{10915:function(F,j,a){"use strict";a.r(j),a.d(j,{default:function(){return z}});var L=a(15009),l=a.n(L),G=a(99289),f=a.n(G),R=a(5574),y=a.n(R),d=a(67294),$=a(97857),S=a.n($),T=a(11238);function A(i,e){return m.apply(this,arguments)}function m(){return m=f()(l()().mark(function i(e,s){return l()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,T.ZP)("/api/chart/".concat(e),S()({method:"GET"},s||{})));case 1:case"end":return c.stop()}},i)})),m.apply(this,arguments)}function P(i){return g.apply(this,arguments)}function g(){return g=f()(l()().mark(function i(e){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.ZP)("/api/charts",S()({method:"GET"},e||{})));case 1:case"end":return u.stop()}},i)})),g.apply(this,arguments)}var Z=a(26495),H=a(9085),n=a(85893),W=function(e){var s=e.chartID,u=(0,d.useRef)(null),c=(0,d.useState)(null),h=y()(c,2),o=h[0],v=h[1],E={responsive:!0,scales:{y:{beginAtZero:!0}}},r=function(){var D=f()(l()().mark(function p(C){var I;return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(C);case 3:I=t.sent,v(I.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error loading chart data:",t.t0);case 10:case"end":return t.stop()}},p,null,[[0,7]])}));return function(C){return D.apply(this,arguments)}}();return(0,d.useEffect)(function(){var D=function p(){r(s).then(function(C){console.log("Chat Loaded, ChartID=",s)}),setTimeout(p,5e3)};return D(),function(){}},[s]),(0,n.jsx)("div",{children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h3",{children:[o.name,(0,n.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,n.jsx)(Z.x1,{ref:u,data:o,options:E})]}):(0,n.jsx)("div",{children:"Loading..."})})},w=W;function z(){var i=(0,d.useState)(null),e=y()(i,2),s=e[0],u=e[1],c=function(){var h=f()(l()().mark(function o(){var v;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,P();case 3:v=r.sent,u(v.data),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error("Error loading charts data:",r.t0);case 10:case"end":return r.stop()}},o,null,[[0,7]])}));return function(){return h.apply(this,arguments)}}();return(0,d.useEffect)(function(){c().then(function(h){console.log("Init Completed")})},[]),(0,n.jsx)("div",{children:s?s.map(function(h,o){return(0,n.jsx)(w,{chartID:h.chartID},o)}):(0,n.jsx)("div",{children:"Loading..."})})}},24654:function(){}}]);
