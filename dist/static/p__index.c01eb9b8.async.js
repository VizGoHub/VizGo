(self.webpackChunk=self.webpackChunk||[]).push([[866],{29840:function(U,L,d){"use strict";d.r(L),d.d(L,{default:function(){return Q}});var R=d(15009),p=d.n(R),A=d(99289),y=d.n(A),E=d(5574),g=d.n(E),o=d(67294),z=d(97857),S=d.n(z),w=d(11238);function C(f,r){return x.apply(this,arguments)}function x(){return x=y()(p()().mark(function f(r,s){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,w.ZP)("/api/chart/".concat(r),S()({method:"GET"},s||{})));case 1:case"end":return l.stop()}},f)})),x.apply(this,arguments)}function b(f){return T.apply(this,arguments)}function T(){return T=y()(p()().mark(function f(r){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,w.ZP)("/api/charts",S()({method:"GET"},r||{})));case 1:case"end":return i.stop()}},f)})),T.apply(this,arguments)}var V=d(1809),j=d(64389),e=d(85893),O=function(r){var s=r.titleText,i=r.legendData,l=r.xAxisData,u=r.seriesData,t=(0,o.useRef)(null);return(0,o.useEffect)(function(){var h=t.current,v=j.S1(h),n={title:{},tooltip:{trigger:"axis"},legend:{data:i},xAxis:{type:"category",boundaryGap:!1,data:l,splitLine:{show:!0},axisLabel:{rotate:45,formatter:function(m){return m.length>16?m.slice(0,16)+"...":m}}},yAxis:{type:"value"},series:u};v.setOption(n);var c=new ResizeObserver(function(){v.resize()});return c.observe(h),function(){v.dispose(),c.disconnect()}},[s,i,l,u]),(0,e.jsx)("div",{ref:t,style:{width:"100%",height:"100%"}})},B=O,M=function(r){var s=r.chartID,i=(0,o.useRef)(null),l=(0,o.useState)(null),u=g()(l,2),t=u[0],h=u[1],v=function(){var n=y()(p()().mark(function c(D){var m;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(D);case 3:m=a.sent,h(m.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},c,null,[[0,7]])}));return function(D){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function c(){v(s).then(function(D){console.log("Chart Loaded, ChartID=",s)}),setTimeout(c,1e4)};return n(),function(){}},[s]),(0,e.jsx)("div",{children:t?(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{children:[t.name,(0,e.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,e.jsx)("div",{style:{height:"300px"},children:(0,e.jsx)(B,{titleText:t.name,legendData:t.legends,xAxisData:t.labels,seriesData:t.datasets})})]}):(0,e.jsx)("div",{children:"Loading..."})})},W=M,$=function(r){var s=r.titleText,i=r.seriesData,l=(0,o.useRef)(null);return(0,o.useEffect)(function(){var u=l.current,t=j.S1(u),h={title:{},series:{type:"treemap",data:i}};t.setOption(h);var v=new ResizeObserver(function(){t.resize()});return v.observe(u),function(){t.dispose(),v.disconnect()}},[s,i]),(0,e.jsx)("div",{ref:l,style:{width:"100%",height:"100%"}})},G=$,P=function(r){var s=r.chartID,i=(0,o.useRef)(null),l=(0,o.useState)(null),u=g()(l,2),t=u[0],h=u[1],v=function(){var n=y()(p()().mark(function c(D){var m;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(D);case 3:m=a.sent,h(m.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},c,null,[[0,7]])}));return function(D){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function c(){v(s).then(function(D){console.log("Chart Loaded, ChartID=",s)}),setTimeout(c,1e4)};return n(),function(){}},[s]),(0,e.jsx)("div",{children:t?(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{children:[t.name,(0,e.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,e.jsx)("div",{style:{height:"500px"},children:(0,e.jsx)(G,{titleText:t.name,seriesData:t.datasets})})]}):(0,e.jsx)("div",{children:"Loading..."})})},Z=P,F=function(r){var s=r.titleText,i=r.yAxisData,l=r.seriesData,u=(0,o.useRef)(null);return(0,o.useEffect)(function(){var t=u.current,h=j.S1(t),v={title:{},xAxis:{max:"dataMax"},yAxis:i,legend:{show:!0},series:l};h.setOption(v);var n=new ResizeObserver(function(){h.resize()});return n.observe(t),function(){h.dispose(),n.disconnect()}},[s,i,l]),(0,e.jsx)("div",{ref:u,style:{width:"100%",height:"100%"}})},H=F,k=function(r){var s=r.chartID,i=(0,o.useRef)(null),l=(0,o.useState)(null),u=g()(l,2),t=u[0],h=u[1],v=function(){var n=y()(p()().mark(function c(D){var m;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(D);case 3:m=a.sent,h(m.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Error loading chart data:",a.t0);case 10:case"end":return a.stop()}},c,null,[[0,7]])}));return function(D){return n.apply(this,arguments)}}();return(0,o.useEffect)(function(){var n=function c(){v(s).then(function(D){console.log("Chart Loaded, ChartID=",s)}),setTimeout(c,1e4)};return n(),function(){}},[s]),(0,e.jsx)("div",{children:t?(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{children:[t.name,(0,e.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,e.jsx)("div",{style:{height:"800px"},children:(0,e.jsx)(H,{titleText:t.name,yAxisData:t.yAxis,seriesData:t.datasets})})]}):(0,e.jsx)("div",{children:"Loading..."})})},J=k,K=function(r){var s=r.chartID,i=r.chartType;return i=="line"?(0,e.jsx)(W,{chartID:s}):i=="treemap"?(0,e.jsx)(Z,{chartID:s}):i=="bar"?(0,e.jsx)(J,{chartID:s}):(0,e.jsx)(e.Fragment,{})},N=K;function Q(){var f=(0,o.useState)(null),r=g()(f,2),s=r[0],i=r[1],l=function(){var u=y()(p()().mark(function t(){var h;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b();case 3:h=n.sent,i(h.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error loading charts data:",n.t0);case 10:case"end":return n.stop()}},t,null,[[0,7]])}));return function(){return u.apply(this,arguments)}}();return(0,o.useEffect)(function(){l().then(function(u){console.log("Init Completed")})},[]),(0,e.jsx)("div",{children:s?s.map(function(u,t){return(0,e.jsx)(N,{chartID:u.chartID,chartType:u.chartType},t)}):(0,e.jsx)("div",{children:"Loading..."})})}},24654:function(){}}]);
