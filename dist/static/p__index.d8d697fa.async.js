(self.webpackChunk=self.webpackChunk||[]).push([[866],{715:function(K,L,o){"use strict";o.r(L),o.d(L,{default:function(){return B}});var R=o(15009),p=o.n(R),w=o(99289),y=o.n(w),E=o(5574),g=o.n(E),h=o(67294),z=o(97857),j=o.n(z),x=o(11238);function S(c,r){return C.apply(this,arguments)}function C(){return C=y()(p()().mark(function c(r,s){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,x.ZP)("/api/chart/".concat(r),j()({method:"GET"},s||{})));case 1:case"end":return l.stop()}},c)})),C.apply(this,arguments)}function A(c){return T.apply(this,arguments)}function T(){return T=y()(p()().mark(function c(r){return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,x.ZP)("/api/charts",j()({method:"GET"},r||{})));case 1:case"end":return i.stop()}},c)})),T.apply(this,arguments)}var N=o(1809),I=o(64389),a=o(85893),O=function(r){var s=r.titleText,i=r.legendData,l=r.xAxisData,u=r.seriesData,e=(0,h.useRef)(null);return(0,h.useEffect)(function(){var v=e.current,f=I.S1(v),n={title:{},tooltip:{trigger:"axis"},legend:{data:i},xAxis:{type:"category",boundaryGap:!1,data:l,splitLine:{show:!0},axisLabel:{rotate:45,formatter:function(m){return m.length>16?m.slice(0,16)+"...":m}}},yAxis:{type:"value"},series:u};f.setOption(n);var d=new ResizeObserver(function(){f.resize()});return d.observe(v),function(){f.dispose(),d.disconnect()}},[s,i,l,u]),(0,a.jsx)("div",{ref:e,style:{width:"100%",height:"100%"}})},G=O,M=function(r){var s=r.chartID,i=(0,h.useRef)(null),l=(0,h.useState)(null),u=g()(l,2),e=u[0],v=u[1],f=function(){var n=y()(p()().mark(function d(D){var m;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(D);case 3:m=t.sent,v(m.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error loading chart data:",t.t0);case 10:case"end":return t.stop()}},d,null,[[0,7]])}));return function(D){return n.apply(this,arguments)}}();return(0,h.useEffect)(function(){var n=function d(){f(s).then(function(D){console.log("Chart Loaded, ChartID=",s)}),setTimeout(d,1e4)};return n(),function(){}},[s]),(0,a.jsx)("div",{children:e?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{children:[e.name,(0,a.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,a.jsx)("div",{style:{height:"300px"},children:(0,a.jsx)(G,{titleText:e.name,legendData:e.legends,xAxisData:e.labels,seriesData:e.datasets})})]}):(0,a.jsx)("div",{children:"Loading..."})})},$=M,b=function(r){var s=r.titleText,i=r.seriesData,l=(0,h.useRef)(null);return(0,h.useEffect)(function(){var u=l.current,e=I.S1(u),v={title:{},series:{type:"treemap",data:i}};e.setOption(v);var f=new ResizeObserver(function(){e.resize()});return f.observe(u),function(){e.dispose(),f.disconnect()}},[s,i]),(0,a.jsx)("div",{ref:l,style:{width:"100%",height:"100%"}})},W=b,P=function(r){var s=r.chartID,i=(0,h.useRef)(null),l=(0,h.useState)(null),u=g()(l,2),e=u[0],v=u[1],f=function(){var n=y()(p()().mark(function d(D){var m;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(D);case 3:m=t.sent,v(m.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error loading chart data:",t.t0);case 10:case"end":return t.stop()}},d,null,[[0,7]])}));return function(D){return n.apply(this,arguments)}}();return(0,h.useEffect)(function(){var n=function d(){f(s).then(function(D){console.log("Chart Loaded, ChartID=",s)}),setTimeout(d,1e4)};return n(),function(){}},[s]),(0,a.jsx)("div",{children:e?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{children:[e.name,(0,a.jsxs)("span",{style:{fontSize:"0.2em"},children:["(",new Date().toLocaleTimeString(),")"]})]}),(0,a.jsx)("div",{style:{height:"300px"},children:(0,a.jsx)(W,{titleText:e.name,seriesData:e.datasets})})]}):(0,a.jsx)("div",{children:"Loading..."})})},Z=P,F=function(r){var s=r.chartID,i=r.chartType;return i=="line"?(0,a.jsx)($,{chartID:s}):i=="treemap"?(0,a.jsx)(Z,{chartID:s}):(0,a.jsx)(a.Fragment,{})},H=F;function B(){var c=(0,h.useState)(null),r=g()(c,2),s=r[0],i=r[1],l=function(){var u=y()(p()().mark(function e(){var v;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A();case 3:v=n.sent,i(v.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error loading charts data:",n.t0);case 10:case"end":return n.stop()}},e,null,[[0,7]])}));return function(){return u.apply(this,arguments)}}();return(0,h.useEffect)(function(){l().then(function(u){console.log("Init Completed")})},[]),(0,a.jsx)("div",{children:s?s.map(function(u,e){return(0,a.jsx)(H,{chartID:u.chartID,chartType:u.chartType},e)}):(0,a.jsx)("div",{children:"Loading..."})})}},24654:function(){}}]);
